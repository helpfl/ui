on:
  push:
    branches:
      - master

jobs:
  deploy:
    name: "CI/CD"
    runs-on: ubuntu-latest
    steps:

#      - name: checkout
#        uses: actions/checkout@v3
#
#      - name: npm ci
#        run: |
#          npm ci
#
#      - name: Test
#        run: |
#          npm run test
#
#      - name: build
#        run: |
#          npm run build
#
#      - name: cdk deploy
#        uses: youyo/aws-cdk-github-actions@v2
#        with:
#          cdk_subcommand: 'deploy'
#          cdk_args: '--require-approval never'
#          actions_comment: false
#        env:
#          AWS_ACCESS_KEY_ID: ${{ secrets.AWS_ACCESS_KEY_ID }}
#          AWS_SECRET_ACCESS_KEY: ${{ secrets.AWS_SECRET_ACCESS_KEY }}
#          AWS_DEFAULT_REGION: ${{ secrets.AWS_REGION }}
#          AWS_ACCOUNT: ${{ secrets.AWS_ACCOUNT }}
        - name: Notify to Discord
          uses: appleboy/discord-action@master
          with:
            webhook_id: ${{ secrets.WEBHOOK_ID }}
            webhook_token: ${{ secrets.WEBHOOK_TOKEN }}
            color: "#48f442"
            username: GitHub Bot
            message: The ${{ github.event.repository.name }} has successfully deployed.

